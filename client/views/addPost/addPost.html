<template name="addPost">
  <form id="addForm">
    <div class="row">
      <div class="input-field col s12">
        <input id="needs" name="needs" type="text" class="validate" length="140">
        <label for="needs">Write your needs</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <select name="category">
          <option value="" disabled selected>Choose your option</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
        <label>Category</label>
      </div>
    </div>
    <div class="row">
      <div class="col s9">
        {{#with userGeo}}
          <input id="location" name="location" type="text" class="validate" disabled value="{{city}}, {{stateCode}}, {{countryCode}}">
          <input name="latitude" type="hidden" value="{{latitude}}">
          <input name="longitude" type="hidden" value="{{longitude}}">
        {{/with}}
        <input name="infos" type="hidden" value="{{toJson userGeo}}">
        <label for="location">Location</label>
      </div>
      <div class="col s3"><a href="#changeLocationModal" class="modal-trigger">Change</a></div>
    </div>
    <div class="row">
      <div class="col s12 center-align">
        <button class="btn indigo darken-4 waves-effect waves-light" type="submit" name="action">Submit</button>
      </div>
    </div>
  </form>
  {{> changeLocationModal}}
</template>

<template name="changeLocationModal">
  <div id="changeLocationModal" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Enter your full address</h4>
      <form>
        <div class="row">
          <div class="input-field col s12">
            <input id="changeAddress" name="changeAddress" type="text" class="validate">
            <label for="changeAddress">Your address</label>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Ok</a>
    </div>
  </div>
</template>